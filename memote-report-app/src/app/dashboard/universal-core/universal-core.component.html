<mat-card-title>Universal Core</mat-card-title>
    <mat-card-content>
      <div
        fxLayout='row'
        fxLayout.lt-lg='column'
        fxLayoutAlign='space-between start'
        *ngIf="data.reportType != 'history'; else vegaHistoryScore">
        <div fxFlex> Total Score
          <div *ngIf="data.reportType === 'snapshot'; else diffScore">
            <div style="font-size:10vw">{{ data.score.total_score | percent:'.'  }}</div>
          </div>
          <ng-template #diffScore>
              <div> 
                <app-vega-total-score-bar-chart> </app-vega-total-score-bar-chart>
              </div>
          </ng-template>
        </div>
        <div>
        <div 
          fxFlex 
          class="svg-container"
          *ngIf="data.reportType === 'snapshot'; else diffSectionScore"> Score per Category
          <br>
              <app-vega-bar-chart ></app-vega-bar-chart>
        </div>
        <ng-template #diffSectionScore>
            <div fxFlex class="svg-container"> Score per Category
            <br>
                <app-vega-grouped-bar-chart ></app-vega-grouped-bar-chart>
          </div>
        </ng-template>
      </div>
      </div>
      <ng-template #vegaHistoryScore>
          <div>
            Total Score
            <br>
            <app-vega-plot [testObject]="data.score.total_score"></app-vega-plot>
          </div>
      </ng-template>
      <hr>
      <div>
      <div fxFlex>
        <h2>Scored Tests</h2>
        <div *ngFor="let section of scoreData.sections | keys">
          <h3> {{ scoreData.sections[section].title }}</h3>
          <div *ngFor="let case of scoreData.sections[section].cases">
            <app-accordion [case]="case"></app-accordion>
          </div>
        </div>
      </div>
      </div>
</mat-card-content>
